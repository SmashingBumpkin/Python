{% extends 'base.html' %}
{% block content %}
<ul><h1 class="title">{{ ingredient.name }}</h1>
    <form method="post">
        {% csrf_token %}
        {% if owned_by_user %}
        <button type="submit" name="remove_ingredient">Remove from cupboard</button>
        {% else %}
        <button type="submit" name="add_ingredient">Add to cupboard</button>
        {% endif %}
    </form>
<br>
<div class="columns">
    <div class="column is-half">
        {% if ingredient.category %}
            <h1 class="heading"><b>{{ ingredient.category }}</b></h1>
        {% endif %}
        {% if ingredient.long_life %}
            <p>This is a long life ingredient and won't expire from your cupboard</p>
        {% elif owned_by_user %}
            <p>This ingredient is saved as "perishable" and will be auto-removed in <b>{{time_to_expiry}} days</b>.<br>Expected shelf life: {{ ingredient.shelf_life }} days</p>
        {% else %}
            <p>This is a perishable item that will be auto-removed. <br>Expected shelf life: {{ ingredient.shelf_life }} days</p>
        {% endif %}
        <br><p>Possible substitutes include: <br>{{ ingredient.substitutes }}</p><br>
        {% if not ingredient.long_life %}
            <p>
            </p>
        {% endif %}
    </div>
    <div class="column is-half">
        <h1 class="heading"><b>Nutritional information per 100g/100ml:</b></h1>
        <p>Calories: {{ nutrients.calories }}</p>
        <p>Carbohydrates: {{ nutrients.carbohydrates }}g</p>
        <p>Sugar: {{ nutrients.sugar }}g</p>
        <p>Fat: {{ nutrients.fat }}g</p>
        <p>Protein: {{ nutrients.protein }}g</p>
        <p>Fibre: {{ nutrients.fibre }}g</p>
    </div>
</div>
{% if recipes %}
<br><br>
This ingredient is used in these recipes:
    {% for recipe in recipes %}
    <p><a href="{% url 'recipes:detail' recipe.id %}">{{ recipe.name }}</a><br></p>
    {% endfor %}
{% else %}
    <p>Add a recipe that uses {{ ingredient.name }} and it should show up here!</p>
{% endif %}
</ul>
{% endblock content %}